@model EmployeeAPP.DAL.CModel.EmployeeCModel

@{
    Layout = null;
}

<html lang="en">
<head>
    <link href="~/Content/bootstrap.min.css" rel="stylesheet" />
    <title>Employee</title>
</head>
<body>
    <div class="container">
        <div class="row main">
            <div class="main-login main-center">
                 @using (Html.BeginForm("EmployeeReg", "Employee", FormMethod.Post, new { enctype = "multipart/form-data", id = "employeeform", name = "employeeform" }))
                 {
                    <div class="form-group">
                        <label for="name" class="cols-sm-2 control-label">First Name</label>
                        <div class="cols-sm-10">
                            <div class="input-group">
                                <span class="input-group-addon"><i class="fa fa-user fa" aria-hidden="true"></i></span>
                                @Html.TextBoxFor(m => m.FirstName, new { @class = "form-control", @type = "text", placeholder = "First Name" })
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="name" class="cols-sm-2 control-label">Last Name</label>
                        <div class="cols-sm-10">
                            <div class="input-group">
                                <span class="input-group-addon"><i class="fa fa-user fa" aria-hidden="true"></i></span>
                                @Html.TextBoxFor(m => m.LastName, new { @class = "form-control", @type = "text", placeholder = "Last Name" })
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="email" class="cols-sm-2 control-label">Email</label>
                        <div class="cols-sm-10">
                            <div class="input-group">
                                <span class="input-group-addon"><i class="fa fa-envelope fa" aria-hidden="true"></i></span>
                                @Html.TextBoxFor(m => m.Email, new { @class = "form-control", @type = "text", placeholder = "Email" })
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="username" class="cols-sm-2 control-label">BirthDate</label>
                        <div class="cols-sm-10">
                            <div class="input-group">
                                <span class="input-group-addon"><i class="fa fa-users fa" aria-hidden="true"></i></span>
                                @Html.TextBoxFor(m => m.Birthdate, new { @class = "form-control datepicker", placeholder = "Birthdate" })
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="username" class="cols-sm-2 control-label">Country</label>
                        <div class="cols-sm-10">
                            <div class="input-group">
                                <span class="input-group-addon"><i class="fa fa-users fa" aria-hidden="true"></i></span>
                                @Html.DropDownListFor(m => m.Country, new List<SelectListItem>
                                                                      {
                                                                          new SelectListItem{ Text="India", Value = "1" },
                                                                          new SelectListItem{ Text="USA", Value = "2" },
                                                                          new SelectListItem{ Text="UK", Value = "3" },
                                                                       }, "-----Select the country-----", new { @class = "form-control" })
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="username" class="cols-sm-2 control-label">Gender</label>
                        <div class="cols-sm-10">
                            Male
                            @Html.RadioButtonFor(m => m.Gender,true, new { @id = "rdmale" })
                            Female
                            @Html.RadioButtonFor(m => m.Gender, false, new { @id = "rdfemale" })
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="username" class="cols-sm-2 control-label">Mobile</label>
                        <div class="cols-sm-10">
                            <div class="input-group">
                                <span class="input-group-addon"><i class="fa fa-users fa" aria-hidden="true"></i></span>
                                @Html.TextBoxFor(m => m.Mobile, new { @class = "form-control", placeholder = "Mobile" })
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="password" class="cols-sm-2 control-label">Password</label>
                        <div class="cols-sm-10">
                            <div class="input-group">
                                <span class="input-group-addon"><i class="fa fa-lock fa-lg" aria-hidden="true"></i></span>
                                @Html.TextBoxFor(m => m.Password, new { @class = "form-control disabled", @type = "password", @readonly = true, placeholder = "password" })
                                <input type="button" onclick="GeneratePassword();" value="Generate Password">
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="password" class="cols-sm-2 control-label">Upload Picture</label>
                        <div class="cols-sm-10">
                            <div class="input-group">
                                <span class="input-group-addon"><i class="fa fa-lock fa-lg" aria-hidden="true"></i></span>
                                <input type="file" id="file" name="file" class="form-control" />
                            </div>
                        </div>
                    </div>
                    <div class="form-group ">
                        <button type="submit" class="btn btn-primary btn-lg btn-block login-button">Register</button>
                    </div>
                    <div class="login-register">
                        <a href="index.php">Login</a>
                    </div>
                 }
            </div>
        </div>
    </div>

    <script src="~/Scripts/jquery-3.3.1.min.js"></script>
    <script src="~/Scripts/bootstrap.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.6.4/css/bootstrap-datepicker.css" type="text/css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.6.4/js/bootstrap-datepicker.js" type="text/javascript"></script>
    <script src="~/Scripts/jquery.validate.min.js"></script>

    <script type="text/javascript">

        $(document).ready(function () {

            $("#employeeform").removeAttr("novalidate");

            $("#employeeform").validate({
                rules: {
                    FirstName: {
                        required: true,
                    },
                    LastName: {
                        required: true,
                    },
                    Email: {
                        required: true,
                    },
                    Birthdate: {
                        required: true,
                    },
                    Country: {
                        required: true,
                    },
                    Gender:{
                        required: true,
                    },
                    Mobile: {
                        required: true,
                    },
                    Password: {
                        required: true,
                    },
                },
                messages: {
                    FirstName: {
                        required: "First Name is reqiured.",
                    },
                    LastName: {
                        required: "Last Name is reqiured.",
                    },
                    Email: {
                        required: "Email is reqiured.",
                    },
                    Birthdate: {
                        required: "Birthdate is reqiured.",
                    },
                    Country: {
                        required: "Country is reqiured.",
                    },
                    Gender: {
                        required: "Gender is reqiured.",
                    },
                    Mobile: {
                        required: "Mobile is reqiured.",
                    },
                    Password: {
                        required: "Password is reqiured.",
                    },
                }

            });

            $(".datepicker").datepicker({
                changeMonth: true,
                changeYear: true,
                format: "mm/dd/yyyy",
                language: "tr"
            });

        });

        function GeneratePassword() {
            $.ajax({
                type: "GET",
                datatype: "json",
                contentType: "application/json",
                url: '/Employee/GeneratePassword',
                async: false,
                success: function (result) {
                    if (result) {
                        $("#Password").val(result);
                    }
                    else {
                        failureErrorMessage("password generation fail")
                    }
                },
                error: function (xhr) {
                    failureErrorMessage('error');
                }
            });
        }

    </script>

</body>
</html>
